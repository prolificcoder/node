<@ var items = params.items; @>

    <p>
      <a href="/<%= names.filename.plural %>/add">Create new item</a>
    <p>
    <h3>
      <%= names.constructor.plural %>
    </h3>
      <@ if (!items.length) { @>
        (No items)
      <@ } else { @>
        <table>
        <tr>
        <@ for (var p in items[0].properties) { @>
          <th>
            <@= p; @> 
          </th>
        <@ } @>
          <th>
            &nbsp;
          </th>
        </tr>
        <@ 
          var item;
          for (var i = 0, ii = items.length; i < ii; i++) {
          item = items[i];
        @>
          <tr>  
            <@ for (var p in item.properties) { @>
              <td>
                <@= (p == 'password') ? '******' : (item[p] || '&nbsp;'); @> 
              </td>
            <@ } @>
              <td>
                <a href="/<%= names.filename.plural %>/<@= item.id @>">[show]</a>
                <a href="/<%= names.filename.plural %>/<@= item.id @>/edit">[edit]</a>
                <form method="post" action="/<%= names.filename.plural %>/<@= item.id @>?_method=delete"
                    style="display: inline;"
                    onclick="if (!window.confirm('Delete?')) {return false;}">
                  <input type="submit" value="delete"/>
                </form>
              </td>
          </tr>
        <@ } @>
        </table>
      <@ } @>


